<!DOCTYPE html>
<html lang="ko">

<head>
  <title>Book List</title>

  <style>
    #bookList {
      display: grid;
      list-style: none;
    }
    #bookItem {
      width: 500px;
      height: 500px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>

<body>
  <h2>Book List</h2>

  <ul id="bookList"></ul>

  <script>
    document.addEventListener('DOMContentLoaded', fetchProducts);

    async function fetchProducts() {
      try {
        const response = await fetch('https://api.itbook.store/1.0/new');
        const data = await response.json();
        renderBookList(data.books);
      } catch (error) {
        console.error('Error fetching products:', error);
      }
    }

    function renderBookList(books) {
      const bookList = document.getElementById('bookList');
      books.forEach((book) => {
        const listItem = document.createElement('li');
        const image = document.createElement('img');
        const title = document.createElement('p');
        const price = document.createElement('p');

        listItem.setAttribute('id', 'bookItem');
        image.src = book.image;
        title.textContent = book.title;
        price.textContent = book.price;

        listItem.append(image, title, price);
        bookList.append(listItem);
      });
    }
  </script>
</body>

</html>